"use strict";const n=require("electron"),i=require("path");require("@electron/remote/main").initialize();process.platform==="win32"&&n.app.setAppUserModelId(n.app.getName());n.app.requestSingleInstanceLock()||(n.app.quit(),process.exit(0));let e=null;async function o(){if(e=new n.BrowserWindow({title:"DocStruct",webPreferences:{nodeIntegration:!0,contextIsolation:!1,webSecurity:!1}}),n.app.isPackaged)e.loadFile(i.join(__dirname,"../renderer/index.html"));else{const t="http://localhost:5173";require("@electron/remote/main").enable(e.webContents),e.loadURL(t),e.webContents.openDevTools()}e.setMenu(null),e.webContents.on("did-finish-load",()=>e==null?void 0:e.webContents.send("main-process-message",new Date().toLocaleString()))}n.app.whenReady().then(o);n.app.on("window-all-closed",()=>{e=null,process.platform!=="darwin"&&n.app.quit()});n.app.on("second-instance",()=>{e&&(e.isMinimized()&&e.restore(),e.focus())});n.app.on("activate",()=>{const t=n.BrowserWindow.getAllWindows();t.length?t[0].focus():o()});
